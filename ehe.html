<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Callbacks A - H</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .box {
            width: 350px;
            padding: 10px;
            border: 1px solid black;
            margin-bottom: 8px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<h2>Salida</h2>

<script>

const createDiv = (name, orden) => {
  const div = document.createElement('div');
  div.className = 'box';

  const now = new Date();
  const time = `${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;

  div.innerText = `${name} [Enviado de: ${orden}] apareció en ${time}`;
  document.body.appendChild(div);
};


const addA = (callback, orden, delay = 0) => {
  setTimeout(() => {
    createDiv("A", orden);
    if (callback) callback();
  }, delay);
};

const addB = (callback, orden, delay = 0) => {
  setTimeout(() => {
    createDiv("B", orden);
    if (callback) callback();
  }, delay);
};

const addC = (callback, orden, delay = 5000) => {
  setTimeout(() => {
    createDiv("C", orden);
    if (callback) callback();
  }, delay);
};

const addD = (callback, orden) => {
  const delay = Math.floor(Math.random() * (5000 - 2000 + 1)) + 2000;
  setTimeout(() => {
    createDiv("D", orden);
    if (callback) callback();
  }, delay);
};

const addE = (callback, orden, delay = 2000) => {
  setTimeout(() => {
    createDiv("E", orden);
    if (callback) callback();
  }, delay);
};

const addF = (callback, orden, delay = 7000) => {
  setTimeout(() => {
    createDiv("F", orden);
    if (callback) callback();
  }, delay);
};

const addG = (callback, orden, delay = 2000) => {
  setTimeout(() => {
    createDiv("G", orden);
    if (callback) callback();
  }, delay);
};

const addH = (callback, orden, delay = 3000) => {
  setTimeout(() => {
    createDiv("H", orden);
    if (callback) callback();
  }, delay);
};

window.onload = () => {

  // A y B → mismas condiciones (ambos al inicio)
  addA(() => {

    addB(() => {

      // C depende de A (5s después)
      addC(() => {}, 4);

      // D entre 2 y 5 segundos
      addD(() => {

        // E 2 segundos después de D
        addE(() => {

          // G 2 segundos después de E
          addG(() => {

            // H 3 segundos después de G
            addH(() => {}, 8);

          }, 7);

        }, 6);

      }, 5);

      // F → 7 segundos después de B
      addF(() => {}, 3);

    }, 2);

  }, 1);

};
</script>

</body>
</html>
